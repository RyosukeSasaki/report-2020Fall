\documentclass[uplatex,a4j,11pt]{jsarticle}
\bibliographystyle{jplain}

\usepackage{url}

\usepackage{amsmath,amsfonts,amssymb}
\usepackage{bm}
\usepackage{siunitx}
\usepackage{listings,jvlisting}
\usepackage{longtable}

\usepackage[dvipdfmx]{graphicx}
\makeatletter
\def\fgcaption{\def\@captype{figure}\caption}
\makeatother
\newcommand{\setsections}[3]{
\setcounter{section}{#1}
\setcounter{subsection}{#2}
\setcounter{subsubsection}{#3}
}
\newcommand{\mfig}[3][width=15cm]{
\begin{center}
\includegraphics[#1]{#2}
\fgcaption{#3 \label{fig:#2}}
\end{center}
}

\lstset{
  basicstyle={\ttfamily},
  identifierstyle={\small},
  commentstyle={\smallitshape},
  keywordstyle={\small\bfseries},
  ndkeywordstyle={\small},
  stringstyle={\small\ttfamily},
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},
  numbers=left,
  xrightmargin=0zw,
  xleftmargin=3zw,
  numberstyle={\scriptsize},
  stepnumber=1,
  numbersep=1zw,
  lineskip=-0.5ex
}
\renewcommand{\lstlistingname}{ソースコード}
\makeatletter
    \AtBeginDocument{
    \renewcommand*{\thelstlisting}{\Alph{section}.\arabic{lstlisting}}
    \@addtoreset{lstlisting}{section}}
\makeatother

\begin{document}
\title{応用数学 期末レポート}
\author{佐々木良輔}
\date{}
\maketitle
\input{1-1.tex}
\input{1-2.tex}
\input{1-3.tex}
\clearpage
\input{1-4.tex}
\input{2-1.tex}
\clearpage
\input{2-2.tex}
\clearpage
\input{3-1.tex}
\input{3-2.tex}
\input{3-3.tex}
\bibliography{ref.bib}
\clearpage
\appendix
\renewcommand{\thetable}{\Alph{section}.\arabic{table}}
\def\thesection{補遺\Alph{section}}
\input{code.tex}
\clearpage
\setcounter{table}{0}
\input{csv1.tex}
\end{document}